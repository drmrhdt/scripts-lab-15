(this.webpackJsonplr12=this.webpackJsonplr12||[]).push([[0],{37:function(e,t,a){e.exports=a(60)},42:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(32),s=a.n(r),o=(a(42),a(4)),c=a(5),i=a(7),m=a(6),d=a(8),u=a(13),p=a(15),h=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"w-25 d-flex justify-content-between mx-auto mb-4"},l.a.createElement(u.b,{to:"/"},"\u0421\u043f\u0438\u0441\u043e\u043a"),l.a.createElement(u.b,{to:"/add"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),t}(n.Component),b=a(18),f=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("input",{type:"text",className:"form-control bg-secondary text-light w-75 mx-auto mb-4",id:"inputFilter",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0435 \u0431\u0443\u043a\u0432\u044b \u0438\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438...",value:this.props.filterInput,name:"firstName",onChange:this.props.onChangeInputFilter})}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={id:0,firstName:"",secondName:"",middleName:"",series:null,number:null,email:"",telephone:""},a.deletePerson=function(){a.props.deletePerson(a.props.id)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(b.a)({},this.props.person))}},{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("td",null,this.state.firstName),l.a.createElement("td",null,this.state.secondName),l.a.createElement("td",null,this.state.middleName),l.a.createElement("td",null,this.state.series),l.a.createElement("td",null,this.state.number),l.a.createElement("td",{className:"text-wrap text-break"},this.state.email),l.a.createElement("td",null,this.state.telephone),l.a.createElement("td",null,l.a.createElement(u.b,{to:"/edit/".concat(this.state.id),className:"btn btn-warning"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-danger",onClick:this.deletePerson},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(n.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.people.map((function(t){return l.a.createElement(E,{key:t.id,id:t.id,person:t,deletePerson:e.props.deletePerson,changePerson:e.props.changePerson})}))}}]),t}(n.Component),g=a(19);g.initializeApp({apiKey:"AIzaSyDbaFoW8P7dYF9JPfFpAbSyF3zMMVsNVEo",authDomain:"notebook-d15f2.firebaseapp.com",databaseURL:"https://notebook-d15f2.firebaseio.com",projectId:"notebook-d15f2",storageBucket:"notebook-d15f2.appspot.com",messagingSenderId:"39251336047",appId:"1:39251336047:web:101279064a4ed56758e69a"});var v=g.firestore(),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={people:[],filterInput:"",filteredPeople:[]},a.onChangeInputFilter=function(e){a.setState({filterInput:e.target.value},(function(){return a.filterPeople(a.state.filterInput)}))},a.deletePerson=function(e){a.setState((function(t){return{people:t.people.filter((function(t){return t.id!==e}))}})),a.setState((function(t){return{filteredPeople:t.filteredPeople.filter((function(t){return t.id!==e}))}})),v.collection("users").doc("".concat(e)).delete()},a.filterPeople=function(e){var t=a.state.people.filter((function(t){return t.firstName.toLowerCase().startsWith(e)||t.secondName.toLowerCase().startsWith(e)}));a.setState({filteredPeople:t})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.collection("users").onSnapshot((function(t){var a=t.docs.map((function(e){return Object(b.a)({id:e.id},e.data())}));e.setState({people:a})}))}},{key:"componentWillUnmount",value:function(){this.setState({people:[],filteredPeople:[]})}},{key:"render",value:function(){var e=this.state.people;return this.state.filteredPeople.length&&(e=this.state.filteredPeople),l.a.createElement("div",null,l.a.createElement(f,{filterInput:this.state.filterInput,onChangeInputFilter:this.onChangeInputFilter}),l.a.createElement("table",{className:"table table-hover table-striped mx-auto table-dark"},l.a.createElement("thead",{className:"text-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"\u0418\u043c\u044f"),l.a.createElement("th",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),l.a.createElement("th",null,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),l.a.createElement("th",null,"\u0421\u0435\u0440\u0438\u044f"),l.a.createElement("th",null,"\u041d\u043e\u043c\u0435\u0440"),l.a.createElement("th",null,"\u041f\u043e\u0447\u0442\u0430"),l.a.createElement("th",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),l.a.createElement("th",{colSpan:"2"},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),l.a.createElement("tbody",{className:"text-light"},e&&e.length?l.a.createElement(N,{people:e,deletePerson:this.deletePerson}):l.a.createElement("tr",null,l.a.createElement("td",null,"\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435 \u0437\u0430\u043f\u0438\u0441\u0435\u0439.")))))}}]),t}(n.Component),j=a(35),O=a.n(j),C=a(24),k=a(36),w=a.n(k),x=/((8|\+7)-?)?\(?\d{3}\)?-?\d{1}-?\d{1}-?\d{1}-?\d{1}-?\d{1}-?\d{1}-?\d{1}/g,P=/[0-9]{4}/g,I=/[0-9]{6}/g,S=a(25),F=a.n(S),D=g.firestore(),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:"",secondName:"",middleName:"",series:null,number:null,email:"",telephone:""},a.addPerson=function(){D.collection("users").add({firstName:a.state.firstName,secondName:a.state.secondName,middleName:a.state.middleName,series:a.state.series,number:a.state.number,email:a.state.email,telephone:a.state.telephone}).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))},a.changePerson=function(){D.collection("users").doc("".concat(a.props.match.params.id)).update({firstName:a.state.firstName,secondName:a.state.secondName,middleName:a.state.middleName,series:a.state.series,number:a.state.number,email:a.state.email,telephone:a.state.telephone})},a.isDisabled=function(){return w.a.validate(a.state.email)&&a.state.telephone.match(x)&&a.state.series.match(P)&&a.state.number.match(I)&&a.state.firstName&&a.state.secondName},a.onChangeInput=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.clearInputs=function(){a.setState({firstName:"",secondName:"",middleName:"",series:null,number:null,email:"",telephone:""})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:"edit"===this.props.mode&&D.collection("users").doc(this.props.match.params.id).get().then((function(t){t.exists?e.setState(Object(b.a)({},t.data())):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 1:case"end":return t.stop()}}),null,this)}},{key:"componentWillUnmount",value:function(){this.clearInputs()}},{key:"render",value:function(){var e=!this.isDisabled();return l.a.createElement("div",{className:"w-75 mx-auto pt-4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputFirstName",className:"col-sm-2 col-form-label"},"\u0418\u043c\u044f",l.a.createElement("span",{className:"red"},"*")),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control bg-secondary text-light",id:"inputFirstName",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",value:this.state.firstName,name:"firstName",onChange:this.onChangeInput}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputSecondName",className:"col-sm-2 col-form-label"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",l.a.createElement("span",{className:"red"},"*")),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control bg-secondary text-light",id:"inputSecondName",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",value:this.state.secondName,name:"secondName",onChange:this.onChangeInput}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputMiddleName",className:"col-sm-2 col-form-label"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control bg-secondary text-light",id:"inputMiddleName",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",value:this.state.middleName,name:"middleName",onChange:this.onChangeInput}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-sm-2 col-form-label"},"\u041f\u0430\u0441\u043f\u043e\u0440\u0442",l.a.createElement("span",{className:"red"},"*")),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("label",{htmlFor:"inputSeries",className:"col-sm-2 col-form-label"},"\u0421\u0435\u0440\u0438\u044f",l.a.createElement("span",{className:"red"},"*")),l.a.createElement(F.a,{mask:[/\d/,/\d/,/\d/,/\d/],guide:!0,keepCharPositions:!0,className:"form-control bg-secondary text-light ",id:"inputSeries",placeholder:"0000",value:this.state.series,name:"series",onChange:this.onChangeInput}),l.a.createElement("label",{htmlFor:"inputNumber",className:"col-sm-2 col-form-label"},"\u041d\u043e\u043c\u0435\u0440",l.a.createElement("span",{className:"red"},"*")),l.a.createElement(F.a,{mask:[/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],guide:!0,keepCharPositions:!0,className:"form-control bg-secondary text-light",id:"inputNumber",placeholder:"000000",value:this.state.number,name:"number",onChange:this.onChangeInput}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputEmail",className:"col-sm-2 col-form-label"},"Email",l.a.createElement("span",{className:"red"},"*")),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"email",className:"form-control bg-secondary text-light",id:"inputEmail",placeholder:"example@mail.com",value:this.state.email,name:"email",onChange:this.onChangeInput}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputTelephone",className:"col-sm-2 col-form-label"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",l.a.createElement("span",{className:"red"},"*")),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement(F.a,{mask:["+",/[7]/,"(",/[1-9]/,/\d/,/\d/,")",/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],guide:!0,keepCharPositions:!0,className:"form-control bg-secondary text-light",id:"inputTelephone",placeholder:"+7(999)999-99-99",value:this.state.telephone,name:"telephone",onChange:this.onChangeInput}))),"edit"===this.props.mode?e?l.a.createElement("button",{className:"disabled btn btn-primary",disabled:!0},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):l.a.createElement(u.b,{to:"/",className:"btn btn-primary",onClick:this.changePerson},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"):e?l.a.createElement("button",{className:"disabled disabled-btn btn btn-primary",disabled:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"):l.a.createElement(u.b,{to:"/",className:"btn btn-primary",onClick:this.addPerson},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),t}(n.Component),A=Object(p.f)(M),W=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"bg-dark text-center mt-4"},l.a.createElement("p",null,"Created By ",l.a.createElement("a",{href:"https://github.com/drmrhdt"},"Drmrhdt")),l.a.createElement("a",{href:"https://github.com/drmrhdt"},"My GITHUB"))}}]),t}(n.Component),B=(a(58),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(u.a,null,l.a.createElement("div",{className:"App py-3 bg-dark text-light"},l.a.createElement("div",{className:"container"},l.a.createElement(h,null),l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",component:y}),l.a.createElement(p.a,{path:"/add",component:A}),l.a.createElement(p.a,{path:"/edit/:id"},l.a.createElement(A,{mode:"edit"}))),l.a.createElement(W,null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(59);s.a.render(l.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.03164e05.chunk.js.map